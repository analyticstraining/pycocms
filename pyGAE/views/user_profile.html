{% extends "main.html" %}

{% block title %}User Profile{% endblock %}

{% block maincontent %}

{% if user_updated %}
<div class="row">
    <div class="col-md-6 col-md-offset-1">
        <div class="alert alert-success alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong>Success</strong> User Information were updated successfully. You will need to log out and then log in again to see the updates. <a href="/logout"> Logout</a>
        </div>
    </div>
</div>

{% else %}
<div class="row">
    <div class="col-md-6 col-md-offset-1">
        <h3>User Profile</h3>
    </div>
</div>
<div class="row">
    <div class="col-md-6 col-md-offset-1">
        
        {% if error %}
        <div class="alert alert-danger alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong>Error</strong> {{error}}
        </div>
        {% endif %}

       
    </div>
</div>
<div class="row">
    <div class="col-md-6 col-md-offset-1">
            
    <form action="/user/profile" method="POST">
        <div class="form-group">
                <label >Username</label>
                <p class="form-control-static">{{user.auth_ids.0}}</p>
            </div>
            <div class="form-group">
                <label >Email address</label>
                <p class="form-control-static">{{user.email_address}}</p>
            </div>
            <div class="form-group">
                <label >Subscription</label>
                <p class="form-control-static">{{user.subscription}}</p>
            </div>
            {% if user.subscription_expiration_date %}
            <div class="form-group">
                <label >Subscription Expiration Date</label>
                <p class="form-control-static">{{user.subscription_expiration_date}}</p>
            </div>
            {% endif %}
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" name="password" />
            </div>
            <div class="form-group">
                    <label for="password2">Password (check)</label>
                    <input type="password" class="form-control" name="password2" />
                </div>
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text"  class="form-control" name="name" value="{{user.name}}" />
            </div>
            <div class="form-group">
                <label for="lastname">Last Name</label>
                <input type="text"  class="form-control" name="last_name" value="{{user.last_name}}"/>
            </div>

            <input type="submit" class="btn btn-primary" value="Update my info" />

    </form>
    
</div>
</div>

{% endif %}
{% endblock %}